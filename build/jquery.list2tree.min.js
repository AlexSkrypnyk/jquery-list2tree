/* list2tree jQuery plugin v.1.0.0 https://github.com/alexdesignworks/jquery-list2tree | License: GPL-2.0 */!function(a){function b(b,e){this.name=c,this.version=d,this.STATE_COLLAPSED="collapsed",this.STATE_EXPANDED="expanded",this.CLASS_LEAF_COLLAPSED="js-list2tree-leaf-collapsed",this.CLASS_TRIGGER_COLLAPSED="js-list2tree-trigger-collapsed",this.CLASS_TRIGGER_EXPANDED="js-list2tree-trigger-expanded",this.CLASS_DEPTH="js-list2tree-leaf-depth",this.CLASS_TRIGGER="js-list2tree-trigger",this.TRIGGER_POSITION_BEFORE="before",this.TRIGGER_POSITION_AFTER="after",this.options=a.extend({},{leafSelector:".js-list2tree-leaf",prefix:"-",wrapperDepth:0,depthClass:"leaf-depth",triggerExpandedClass:"trigger-expanded",triggerCollapsedClass:"trigger-collapsed",triggerPosition:this.TRIGGER_POSITION_BEFORE,state:this.STATE_EXPANDED,removePrefix:!0},e),this.$element=a(b),this.init()}var c="list2tree",d="1.0.0";a.extend(b.prototype,{init:function(){var b=this;b.processDepths(),b.options.removePrefix&&b.removePrefixes(),b.getParents().each(function(){var c=b.attachTrigger(a(this));b.options.state===b.STATE_COLLAPSED&&c.trigger("click")}),b.processCheckedValues()},attachTrigger:function(b){var c=this,d=c.isExpanded(b)?c.renderTrigger(b,c.STATE_EXPANDED):c.renderTrigger(b,c.STATE_COLLAPSED);return d.on("click",function(){var b=a(this),d=b.parent();c.isExpanded(d)?(c.getChildren(d).each(function(){var b=a(this);c.isParent(b)&&c.isExpanded(b)&&c.getTrigger(b).trigger("click")}),c.collapse(d),c.renderTrigger(d,c.STATE_COLLAPSED)):(c.expand(d),c.renderTrigger(d,c.STATE_EXPANDED))}),d},renderTrigger:function(b,c){var d=this,e=d.getTrigger(b),f=[d.CLASS_TRIGGER,c===this.STATE_COLLAPSED?d.CLASS_TRIGGER_COLLAPSED:d.CLASS_TRIGGER_EXPANDED,c===this.STATE_COLLAPSED?d.options.triggerCollapsedClass:d.options.triggerExpandedClass];return 0===e.length?(e=a('<span class="'+f.join(" ")+'"></span>'),d.options.triggerPosition===d.TRIGGER_POSITION_BEFORE?e.prependTo(b):e.appendTo(b)):e.attr("class",f.join(" ")),e},getTrigger:function(a){return a.find("."+this.CLASS_TRIGGER)},isCollapsed:function(a){return a.hasClass(this.CLASS_LEAF_COLLAPSED)},isExpanded:function(a){return!this.isCollapsed(a)},expand:function(a){this.getChildren(a).show(),a.removeClass(this.CLASS_LEAF_COLLAPSED)},collapse:function(a){this.getChildrenAll(a).hide(),a.addClass(this.CLASS_LEAF_COLLAPSED)},processCheckedValues:function(){var b=this,c=b.getLeaves().filter(function(){return b.isChecked(a(this))});c.each(function(){a(b.getParentsAll(a(this)).get().reverse()).each(function(){b.isCollapsed(a(this))&&b.getTrigger(a(this)).trigger("click")})})},isChecked:function(a){return a.find('input[type="checkbox"]').is(":checked")},processDepths:function(){var b=this;this.getLeaves().each(function(){var c=a(this),d=b.getDepthFromText(b.getText(c),b.options.prefix);c.addClass(b.CLASS_DEPTH+"-"+d),c.addClass(b.options.depthClass+"-"+d)})},removePrefixes:function(){var b=this;this.getLeaves().each(function(){for(var c=b.getText(a(this));0===c.indexOf(b.options.prefix);)c=c.substr(b.options.prefix.length);b.setText(a(this),c)})},getLeaves:function(){return this.$element.find(this.options.leafSelector)},getParents:function(){var b=this;return b.getLeaves().filter(function(){return b.isParent(a(this))})},isParent:function(a){return this.getChildrenAll(a).length>0},getChildren:function(b){var c=this,d=c.getChildrenAll(b),e=c.getDepth(b);return d=d.filter(function(){return c.getDepth(a(this))===e+1})},getChildrenAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.next();f.length>0;){var g=c.getDepth(f);if(e>=g)break;d=d.add(f),f=f.next()}return d},getParentsAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.prev();f.length>0;){var g=c.getDepth(f);e>g&&(d=d.add(f),e=g),f=f.prev()}return d},getDepth:function(a){var b=0,c=new RegExp(this.CLASS_DEPTH+"-([0-9]+)","i"),d=a.attr("class").split(" ");for(var e in d)if(d.hasOwnProperty(e)){var f=d[e].match(c);if(f&&f.length>1){b=parseInt(f[1],10);break}}return b},getText:function(a){return a.find("label").text()},setText:function(a,b){a.find("label").text(b)},getDepthFromText:function(a,b){for(var c=0;0===a.indexOf(b);)c++,a=a.substr(b.length);return c}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery),!function(a){function b(b,e){this.name=c,this.version=d,this.STATE_COLLAPSED="collapsed",this.STATE_EXPANDED="expanded",this.CLASS_LEAF_COLLAPSED="js-list2tree-leaf-collapsed",this.CLASS_TRIGGER_COLLAPSED="js-list2tree-trigger-collapsed",this.CLASS_TRIGGER_EXPANDED="js-list2tree-trigger-expanded",this.CLASS_DEPTH="js-list2tree-leaf-depth",this.CLASS_TRIGGER="js-list2tree-trigger",this.TRIGGER_POSITION_BEFORE="before",this.TRIGGER_POSITION_AFTER="after",this.options=a.extend({},{leafSelector:".js-list2tree-leaf",prefix:"-",wrapperDepth:0,depthClass:"leaf-depth",triggerExpandedClass:"trigger-expanded",triggerCollapsedClass:"trigger-collapsed",triggerPosition:this.TRIGGER_POSITION_BEFORE,state:this.STATE_EXPANDED,removePrefix:!0},e),this.$element=a(b),this.init()}var c="list2tree",d="1.0.0";a.extend(b.prototype,{init:function(){var b=this;b.processDepths(),b.options.removePrefix&&b.removePrefixes(),b.getAllParents().each(function(){var c=b.attachTrigger(a(this));b.options.state===b.STATE_COLLAPSED&&c.trigger("click")})},attachTrigger:function(b){var c=this,d=c.isExpanded(b)?c.renderTrigger(b,c.STATE_EXPANDED):c.renderTrigger(b,c.STATE_COLLAPSED);return d.on("click",function(){var b=a(this),d=b.parent();c.isExpanded(d)?(c.getChildren(d).each(function(){var b=a(this);c.isParent(b)&&c.isExpanded(b)&&c.getTrigger(b).trigger("click")}),c.collapse(d),c.renderTrigger(d,c.STATE_COLLAPSED)):(c.expand(d),c.renderTrigger(d,c.STATE_EXPANDED))}),d},renderTrigger:function(b,c){var d=this,e=d.getTrigger(b),f=[d.CLASS_TRIGGER,c===this.STATE_COLLAPSED?d.CLASS_TRIGGER_COLLAPSED:d.CLASS_TRIGGER_EXPANDED,c===this.STATE_COLLAPSED?d.options.triggerCollapsedClass:d.options.triggerExpandedClass];return 0===e.length?(e=a('<span class="'+f.join(" ")+'"></span>'),d.options.triggerPosition===d.TRIGGER_POSITION_BEFORE?e.prependTo(b):e.appendTo(b)):e.attr("class",f.join(" ")),e},getTrigger:function(a){return a.find("."+this.CLASS_TRIGGER)},isCollapsed:function(a){return a.hasClass(this.CLASS_LEAF_COLLAPSED)},isExpanded:function(a){return!this.isCollapsed(a)},expand:function(a){this.getChildren(a).show(),a.removeClass(this.CLASS_LEAF_COLLAPSED)},collapse:function(a){this.getChildrenAll(a).hide(),a.addClass(this.CLASS_LEAF_COLLAPSED)},isChecked:function(a){return a.find('input[type="checkbox"]').is(":checked")},processDepths:function(){var b=this;this.getLeaves().each(function(){var c=a(this),d=b.getDepthFromText(b.getText(c),b.options.prefix);c.addClass(b.CLASS_DEPTH+"-"+d),c.addClass(b.options.depthClass+"-"+d)})},removePrefixes:function(){var b=this;this.getLeaves().each(function(){for(var c=b.getText(a(this));0===c.indexOf(b.options.prefix);)c=c.substr(b.options.prefix.length);b.setText(a(this),c)})},getLeaves:function(){return this.$element.find(this.options.leafSelector)},getAllParents:function(){var b=this;return b.getLeaves().filter(function(){return b.isParent(a(this))})},isParent:function(a){return this.getChildrenAll(a).length>0},getChildren:function(b){var c=this,d=c.getChildrenAll(b),e=c.getDepth(b);return d=d.filter(function(){return c.getDepth(a(this))===e+1})},getChildrenAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.next();f.length>0;){var g=c.getDepth(f);if(e>=g)break;d=d.add(f),f=f.next()}return d},getDepth:function(a){var b=0,c=new RegExp(this.CLASS_DEPTH+"-([0-9]+)","i"),d=a.attr("class").split(" ");for(var e in d)if(d.hasOwnProperty(e)){var f=d[e].match(c);if(f&&f.length>1){b=parseInt(f[1],10);break}}return b},getText:function(a){return a.find("label").text()},setText:function(a,b){a.find("label").text(b)},getDepthFromText:function(a,b){for(var c=0;0===a.indexOf(b);)c++,a=a.substr(b.length);return c}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery),!function(a){function b(b,e){this.name=c,this.version=d,this.STATE_COLLAPSED="collapsed",this.STATE_EXPANDED="expanded",this.CLASS_LEAF_COLLAPSED="js-list2tree-leaf-collapsed",this.CLASS_TRIGGER_COLLAPSED="js-list2tree-trigger-collapsed",this.CLASS_TRIGGER_EXPANDED="js-list2tree-trigger-expanded",this.CLASS_DEPTH="js-list2tree-leaf-depth",this.CLASS_TRIGGER="js-list2tree-trigger",this.TRIGGER_POSITION_BEFORE="before",this.TRIGGER_POSITION_AFTER="after",this.options=a.extend({},{leafSelector:".js-list2tree-leaf",prefix:"-",wrapperDepth:0,depthClass:"leaf-depth",triggerExpandedClass:"trigger-expanded",triggerCollapsedClass:"trigger-collapsed",triggerPosition:this.TRIGGER_POSITION_BEFORE,state:this.STATE_EXPANDED,removePrefix:!0},e),this.$element=a(b),this.init()}var c="list2tree",d="1.0.0";a.extend(b.prototype,{init:function(){var b=this;b.processDepths(),b.options.removePrefix&&b.removePrefixes(),b.getAllParents().each(function(){var c=b.attachTrigger(a(this));b.options.state===b.STATE_COLLAPSED&&c.trigger("click")})},attachTrigger:function(b){var c=this,d=c.isExpanded(b)?c.renderTrigger(b,c.STATE_EXPANDED):c.renderTrigger(b,c.STATE_COLLAPSED);return d.on("click",function(){var b=a(this),d=b.parent();c.isExpanded(d)?(c.getChildren(d).each(function(){var b=a(this);c.isParent(b)&&c.isExpanded(b)&&c.getTrigger(b).trigger("click")}),c.collapse(d),c.renderTrigger(d,c.STATE_COLLAPSED)):(c.expand(d),c.renderTrigger(d,c.STATE_EXPANDED))}),d},renderTrigger:function(b,c){var d=this,e=d.getTrigger(b),f=[d.CLASS_TRIGGER,c===this.STATE_COLLAPSED?d.CLASS_TRIGGER_COLLAPSED:d.CLASS_TRIGGER_EXPANDED,c===this.STATE_COLLAPSED?d.options.triggerCollapsedClass:d.options.triggerExpandedClass];return 0===e.length?(e=a('<span class="'+f.join(" ")+'"></span>'),d.options.triggerPosition===d.TRIGGER_POSITION_BEFORE?e.prependTo(b):e.appendTo(b)):e.attr("class",f.join(" ")),e},getTrigger:function(a){return a.find("."+this.CLASS_TRIGGER)},isCollapsed:function(a){return a.hasClass(this.CLASS_LEAF_COLLAPSED)},isExpanded:function(a){return!this.isCollapsed(a)},expand:function(a){this.getChildren(a).show(),a.removeClass(this.CLASS_LEAF_COLLAPSED)},collapse:function(a){this.getChildrenAll(a).hide(),a.addClass(this.CLASS_LEAF_COLLAPSED)},isChecked:function(a){return a.find('input[type="checkbox"]').is(":checked")},processDepths:function(){var b=this;this.getLeaves().each(function(){var c=a(this),d=b.getDepthFromText(b.getText(c),b.options.prefix);c.addClass(b.CLASS_DEPTH+"-"+d),c.addClass(b.options.depthClass+"-"+d)})},removePrefixes:function(){var b=this;this.getLeaves().each(function(){for(var c=b.getText(a(this));0===c.indexOf(b.options.prefix);)c=c.substr(b.options.prefix.length);b.setText(a(this),c)})},getLeaves:function(){return this.$element.find(this.options.leafSelector)},getAllParents:function(){var b=this;return b.getLeaves().filter(function(){return b.isParent(a(this))})},isParent:function(a){return this.getChildrenAll(a).length>0},getChildren:function(b){var c=this,d=c.getChildrenAll(b),e=c.getDepth(b);return d=d.filter(function(){return c.getDepth(a(this))===e+1})},getChildrenAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.next();f.length>0;){var g=c.getDepth(f);if(e>=g)break;d=d.add(f),f=f.next()}return d},getDepth:function(a){var b=0,c=new RegExp(this.CLASS_DEPTH+"-([0-9]+)","i"),d=a.attr("class").split(" ");for(var e in d){var f=d[e].match(c);if(f&&f.length>1){b=parseInt(f[1],10);break}}return b},getText:function(a){return a.find("label").text()},setText:function(a,b){a.find("label").text(b)},getDepthFromText:function(a,b){for(var c=0;0===a.indexOf(b);)c++,a=a.substr(b.length);return c}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery),!function(a,b,c,d){function e(b,c){this.name=f,this.version=g,this.STATE_COLLAPSED="collapsed",this.STATE_EXPANDED="expanded",this.CLASS_LEAF_COLLAPSED="js-list2tree-leaf-collapsed",this.CLASS_TRIGGER_COLLAPSED="js-list2tree-trigger-collapsed",this.CLASS_TRIGGER_EXPANDED="js-list2tree-trigger-expanded",this.CLASS_DEPTH="js-list2tree-leaf-depth",this.CLASS_TRIGGER="js-list2tree-trigger",this.TRIGGER_POSITION_BEFORE="before",this.TRIGGER_POSITION_AFTER="after",this.options=a.extend({},{leafSelector:".js-list2tree-leaf",prefix:"-",wrapperDepth:0,depthClass:"leaf-depth",triggerExpandedClass:"trigger-expanded",triggerCollapsedClass:"trigger-collapsed",triggerPosition:this.TRIGGER_POSITION_BEFORE,state:this.STATE_EXPANDED,removePrefix:!0},c),this.$element=a(b),this.init()}var f="list2tree",g="0.0.1";a.extend(e.prototype,{init:function(){var b=this;b.processDepths(),b.options.removePrefix&&b.removePrefixes(),b.getAllParents().each(function(){var c=b.attachTrigger(a(this));b.options.state===b.STATE_COLLAPSED&&c.trigger("click")})},attachTrigger:function(b){var c=this,d=c.isExpanded(b)?c.renderTrigger(b,c.STATE_EXPANDED):c.renderTrigger(b,c.STATE_COLLAPSED);return d.on("click",function(){var b=a(this),d=b.parent();c.isExpanded(d)?(c.getChildren(d).each(function(){var b=a(this);c.isParent(b)&&c.isExpanded(b)&&c.getTrigger(b).trigger("click")}),c.collapse(d),c.renderTrigger(d,c.STATE_COLLAPSED)):(c.expand(d),c.renderTrigger(d,c.STATE_EXPANDED))}),d},renderTrigger:function(b,c){var d=this,e=d.getTrigger(b),f=[d.CLASS_TRIGGER,c===this.STATE_COLLAPSED?d.CLASS_TRIGGER_COLLAPSED:d.CLASS_TRIGGER_EXPANDED,c===this.STATE_COLLAPSED?d.options.triggerCollapsedClass:d.options.triggerExpandedClass];return 0===e.length?(e=a('<span class="'+f.join(" ")+'"></span>'),d.options.triggerPosition===d.TRIGGER_POSITION_BEFORE?e.prependTo(b):e.appendTo(b)):e.attr("class",f.join(" ")),e},getTrigger:function(a){return a.find("."+this.CLASS_TRIGGER)},isCollapsed:function(a){return a.hasClass(this.CLASS_LEAF_COLLAPSED)},isExpanded:function(a){return!this.isCollapsed(a)},expand:function(a){this.getChildren(a).show(),a.removeClass(this.CLASS_LEAF_COLLAPSED)},collapse:function(a){this.getChildrenAll(a).hide(),a.addClass(this.CLASS_LEAF_COLLAPSED)},isChecked:function(a){return a.find('input[type="checkbox"]').is(":checked")},processDepths:function(){var b=this;this.getLeaves().each(function(){var c=a(this),d=b.getDepthFromText(b.getText(c),b.options.prefix);c.addClass(b.CLASS_DEPTH+"-"+d),c.addClass(b.options.depthClass+"-"+d)})},removePrefixes:function(){var b=this;this.getLeaves().each(function(){for(var c=b.getText(a(this));0===c.indexOf(b.options.prefix);)c=c.substr(b.options.prefix.length);b.setText(a(this),c)})},getLeaves:function(){return this.$element.find(this.options.leafSelector)},getAllParents:function(){var b=this;return b.getLeaves().filter(function(){return b.isParent(a(this))})},isParent:function(a){return this.getChildrenAll(a).length>0},getChildren:function(b){var c=this,d=c.getChildrenAll(b),e=c.getDepth(b);return d=d.filter(function(){return c.getDepth(a(this))===e+1})},getChildrenAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.next();f.length>0;){var g=c.getDepth(f);if(e>=g)break;d=d.add(f),f=f.next()}return d},getDepth:function(a){var b=0,c=new RegExp(this.CLASS_DEPTH+"-([0-9]+)","i"),d=a.attr("class").split(" ");for(var e in d){var f=d[e].match(c);if(f&&f.length>1){b=parseInt(f[1]);break}}return b},getText:function(a){return a.find("label").text()},setText:function(a,b){a.find("label").text(b)},getDepthFromText:function(a,b){for(var c=0;0===a.indexOf(b);)c++,a=a.substr(b.length);return c}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window),!function(a,b,c,d){function e(b,c){this.name=f,this.version=g,this.STATE_COLLAPSED="collapsed",this.STATE_EXPANDED="expanded",this.CLASS_LEAF_COLLAPSED="js-list2tree-leaf-collapsed",this.CLASS_TRIGGER_COLLAPSED="js-list2tree-trigger-collapsed",this.CLASS_TRIGGER_EXPANDED="js-list2tree-trigger-expanded",this.CLASS_DEPTH="js-list2tree-leaf-depth",this.CLASS_TRIGGER="js-list2tree-trigger",this.TRIGGER_POSITION_BEFORE="before",this.TRIGGER_POSITION_AFTER="after",this.options=a.extend({},{leafSelector:".js-list2tree-leaf",prefix:"-",wrapperDepth:0,depthClass:"leaf-depth",triggerExpandedClass:"trigger-expanded",triggerCollapsedClass:"trigger-collapsed",triggerPosition:this.TRIGGER_POSITION_BEFORE,state:this.STATE_EXPANDED,removePrefix:!0},c),this.$element=a(b),this.init()}var f="list2tree",g="0.0.1";a.extend(e.prototype,{init:function(){var b=this;b.processDepths(),b.options.removePrefix&&b.removePrefixes(),b.getAllParents().each(function(){var c=b.attachTrigger(a(this));b.options.state===b.STATE_COLLAPSED&&c.trigger("click")})},attachTrigger:function(b){var c=this,d=c.isExpanded(b)?c.renderTrigger(b,c.STATE_EXPANDED):c.renderTrigger(b,c.STATE_COLLAPSED);return d.on("click",function(){var b=a(this),d=b.parent();c.isExpanded(d)?(c.getChildren(d).each(function(){var b=a(this);c.isParent(b)&&c.isExpanded(b)&&c.getTrigger(b).trigger("click")}),c.collapse(d),c.renderTrigger(d,c.STATE_COLLAPSED)):(c.expand(d),c.renderTrigger(d,c.STATE_EXPANDED))}),d},renderTrigger:function(b,c){var d=this,e=d.getTrigger(b),f=[d.CLASS_TRIGGER,c===this.STATE_COLLAPSED?d.CLASS_TRIGGER_COLLAPSED:d.CLASS_TRIGGER_EXPANDED,c===this.STATE_COLLAPSED?d.options.triggerCollapsedClass:d.options.triggerExpandedClass];return 0===e.length?(e=a('<span class="'+f.join(" ")+'"></span>'),d.options.triggerPosition===d.TRIGGER_POSITION_BEFORE?e.prependTo(b):e.appendTo(b)):e.attr("class",f.join(" ")),e},getTrigger:function(a){return a.find("."+this.CLASS_TRIGGER)},isCollapsed:function(a){return a.hasClass(this.CLASS_LEAF_COLLAPSED)},isExpanded:function(a){return!this.isCollapsed(a)},expand:function(a){this.getChildren(a).show(),a.removeClass(this.CLASS_LEAF_COLLAPSED)},collapse:function(a){this.getChildrenAll(a).hide(),a.addClass(this.CLASS_LEAF_COLLAPSED)},isChecked:function(a){return a.find('input[type="checkbox"]').is(":checked")},processDepths:function(){var b=this;this.getLeaves().each(function(){var c=a(this),d=b.getDepthFromText(b.getText(c),b.options.prefix);c.addClass(b.CLASS_DEPTH+"-"+d),c.addClass(b.options.depthClass+"-"+d)})},removePrefixes:function(){var b=this;this.getLeaves().each(function(){for(var c=b.getText(a(this));0===c.indexOf(b.options.prefix);)c=c.substr(b.options.prefix.length);b.setText(a(this),c)})},getLeaves:function(){return this.$element.find(this.options.leafSelector)},getAllParents:function(){var b=this;return b.getLeaves().filter(function(){return b.isParent(a(this))})},isParent:function(a){return this.getChildrenAll(a).length>0},getChildren:function(b){var c=this,d=c.getChildrenAll(b),e=c.getDepth(b);return d=d.filter(function(){return c.getDepth(a(this))===e+1})},getChildrenAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.next();f.length>0;){var g=c.getDepth(f);if(e>=g)break;d=d.add(f),f=f.next()}return d},getDepth:function(a){var b=0,c=new RegExp(this.CLASS_DEPTH+"-([0-9]+)","i"),d=a.attr("class").split(" ");for(var e in d){var f=d[e].match(c);if(f&&f.length>1){b=parseInt(f[1]);break}}return b},getText:function(a){return a.find("label").text()},setText:function(a,b){a.find("label").text(b)},getDepthFromText:function(a,b){for(var c=0;0===a.indexOf(b);)c++,a=a.substr(b.length);return c}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window),!function(a,b,c,d){function e(b,c){this.name=f,this.version=g,this.STATE_COLLAPSED="collapsed",this.STATE_EXPANDED="expanded",this.CLASS_LEAF_COLLAPSED="js-list2tree-leaf-collapsed",this.CLASS_TRIGGER_COLLAPSED="js-list2tree-trigger-collapsed",this.CLASS_TRIGGER_EXPANDED="js-list2tree-trigger-expanded",this.CLASS_DEPTH="js-list2tree-leaf-depth",this.CLASS_TRIGGER="js-list2tree-trigger",this.TRIGGER_POSITION_BEFORE="before",this.TRIGGER_POSITION_AFTER="after",this.options=a.extend({},{leafSelector:".js-list2tree-leaf",prefix:"-",wrapperDepth:0,depthClass:"leaf-depth",triggerExpandedClass:"trigger-expanded",triggerCollapsedClass:"trigger-collapsed",triggerPosition:this.TRIGGER_POSITION_BEFORE,state:this.STATE_EXPANDED,removePrefix:!0},c),this.$element=a(b),this.init()}var f="list2tree",g="0.0.1";a.extend(e.prototype,{init:function(){var b=this;b.processDepths(),b.options.removePrefix&&b.removePrefixes(),b.getAllParents().each(function(){var c=b.attachTrigger(a(this));b.options.state===b.STATE_COLLAPSED&&c.trigger("click")})},attachTrigger:function(b){var c=this,d=c.isExpanded(b)?c.renderTrigger(b,c.STATE_EXPANDED):c.renderTrigger(b,c.STATE_COLLAPSED);return d.on("click",function(){var b=a(this),d=b.parent();c.isExpanded(d)?(c.getChildren(d).each(function(){var b=a(this);c.isParent(b)&&c.isExpanded(b)&&c.getTrigger(b).trigger("click")}),c.collapse(d),c.renderTrigger(d,c.STATE_COLLAPSED)):(c.expand(d),c.renderTrigger(d,c.STATE_EXPANDED))}),d},renderTrigger:function(b,c){var d=this,e=d.getTrigger(b),f=[d.CLASS_TRIGGER,c===this.STATE_COLLAPSED?d.CLASS_TRIGGER_COLLAPSED:d.CLASS_TRIGGER_EXPANDED,c===this.STATE_COLLAPSED?d.options.triggerCollapsedClass:d.options.triggerExpandedClass];return 0===e.length?(e=a('<span class="'+f.join(" ")+'"></span>'),d.options.triggerPosition===d.TRIGGER_POSITION_BEFORE?e.prependTo(b):e.appendTo(b)):e.attr("class",f.join(" ")),e},getTrigger:function(a){return a.find("."+this.CLASS_TRIGGER)},isCollapsed:function(a){return a.hasClass(this.CLASS_LEAF_COLLAPSED)},isExpanded:function(a){return!this.isCollapsed(a)},expand:function(a){this.getChildren(a).show(),a.removeClass(this.CLASS_LEAF_COLLAPSED)},collapse:function(a){this.getChildrenAll(a).hide(),a.addClass(this.CLASS_LEAF_COLLAPSED)},isChecked:function(a){return a.find('input[type="checkbox"]').is(":checked")},processDepths:function(){var b=this;this.getLeaves().each(function(){var c=a(this),d=b.getDepthFromText(b.getText(c),b.options.prefix);c.addClass(b.CLASS_DEPTH+"-"+d),c.addClass(b.options.depthClass+"-"+d)})},removePrefixes:function(){var b=this;this.getLeaves().each(function(){for(var c=b.getText(a(this));0===c.indexOf(b.options.prefix);)c=c.substr(b.options.prefix.length);b.setText(a(this),c)})},getLeaves:function(){return this.$element.find(this.options.leafSelector)},getAllParents:function(){var b=this;return b.getLeaves().filter(function(){return b.isParent(a(this))})},isParent:function(a){return this.getChildrenAll(a).length>0},getChildren:function(b){var c=this,d=c.getChildrenAll(b),e=c.getDepth(b);return d=d.filter(function(){return c.getDepth(a(this))===e+1})},getChildrenAll:function(b){for(var c=this,d=a(),e=c.getDepth(b),f=b.next();f.length>0;){var g=c.getDepth(f);if(e>=g)break;d=d.add(f),f=f.next()}return d},getDepth:function(a){var b=0,c=new RegExp(this.CLASS_DEPTH+"-([0-9]+)","i"),d=a.attr("class").split(" ");for(var e in d){var f=d[e].match(c);if(f&&f.length>1){b=parseInt(f[1]);break}}return b},getText:function(a){return a.find("label").text()},setText:function(a,b){a.find("label").text(b)},getDepthFromText:function(a,b){for(var c=0;0===a.indexOf(b);)c++,a=a.substr(b.length);return c}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window);